<html>
<head>

<meta charset="utf-8" />

<link rel="stylesheet" type="text/css" href="styles/base.css" />
<link id="csscolor" rel="stylesheet" type="text/css" href="styles/colors/default/colors.css" />
<link id="cssstyle" rel="stylesheet" type="text/css" href="styles/designs/default.css" />

</head>
<body>

<script src="js/ben0biJSLoader.js"></script>

<script>

// END OF MAP FUNCTIONS ******************************************************************************************************

function initpage()
{
	initpage_default();
	g_map = new BeMap('#content', 'busMap');
	g_map.getMap().on('click', function(evt)
	{
		console.log("Click on map.");
		//var coords= g_map.getMap().getCoordinateFromPixel(evt.pixel);
		var coords = evt.coordinate;
		var ll = ol.proj.transform(evt.coordinate, 'EPSG:3857', 'EPSG:4326');
		console.log("Coords: "+coords[0]+" / "+coords[1]);
		console.log("LonLat: "+ll[0]+" / "+ll[1]);
		g_map.addLinePoint(ll[0], ll[1]);
	});
	//showLoginWindow('#content');
}

// double load = double fun :)
function loadmapjs()
{
	ben0biJSLoader.recursiveLoad('config/map_jsfiles.json', initpage);
}

// load the map stuff after this stuff here.
ben0biJSLoader.recursiveLoad('config/jsfiles.json', loadmapjs);

</script>


</body>
</html>